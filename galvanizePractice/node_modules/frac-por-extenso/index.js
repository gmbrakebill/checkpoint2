'use strict';

var extenso = require('extenso');

module.exports = function (numerador, denominador) {
    if (typeof numerador !== 'number' || typeof denominador !== 'number') {
        return undefined;
    }

    if (numerador >= 1 && denominador >= 2 && numerador < 1e+20 && denominador < 1e+20) {
        var num = extenso(numerador);
        var den = extenso(denominador);

        if (denominador < 10 || (/^1(0)+$/).test(denominador)) {
            var termos = {
                'dois': 'meio',
                'três': 'terço',
                'quatro': 'quarto',
                'cinco': 'quinto',
                'seis': 'sexto',
                'sete': 'sétimo',
                'oito': 'oitavo',
                'nove': 'nono',
                'dez': 'décimo',
                'cem': 'centécimo',
                'mil': 'milésimo',
                'dez mil': 'décimo de milésimo',
                'cem mil': 'centécimo de milésimo',
                'um milhão': 'milionésimo',
                'dez milhão': 'décimo milionésimo',
                'cem milhão': 'centécimo milionésimo',
                'um bilhão': 'bilionésimo',
                'dez bilhão': 'décimo bilionésimo',
                'cem bilhão': 'centécimo bilionésimo',
                'um trilhão': 'trilionésimo',
                'dez trilhão': 'décimo trilionésimo',
                'cem trilhão': 'centécimo trilionésimo'
            };

            if (numerador === 1) {
                return num + ' ' + termos[den];
            } else {
                return num + ' ' + termos[den].replace(/o/g, 'os');
            }
        } else {
            return num + ' ' + den + ' avos';
        }
    }
};
